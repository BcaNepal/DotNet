### How C# code is compiled to intermediate language (IL) and executed by the CL
 ---
# Code Compilation & Intermediate Language

After writing the code, you compile the code to run it. The compilation process actually converts your written code into the **binaries** that can be understood by the machine only. No matter you write code in C# or Visual Basic, similar binaries will be created for your code to be run on Dot Net based platform. The binaries this created are known as **Intermediate Language (IL)** or **Microsoft Intermediate Language (MSIL)** or **Common Intermediate Language (CIL)**.

The binaries are then run on the system running the Dot Net framework to run the actual application.

# Common Language Runtime (CLR)

**Common Language Runtime** or **CLR** is a **Virtual Machine** that is controlled by the .Net framework. CLR is used to run a binary created by compiling the code.

CLR takes up the Intermediate Language and converts it into native instructions that are understood by the CPU.

# Just In Time (JIT) Compilation

**Just In Time** or **JIT Compilation** is the process of taking those binaries of the Intermediate Language and converting them to native instructions that are understood by the machine.

CLR acts as an intermediary between the Intermediate Language and the machine level native instructions.

Besides this, CLR is responsible for many other operations. CLR is responsible for:

- Memory Management
- Garbage Collection
- Exception Handling
- Type Safety
- Thread management

https://medium.com/@kunaltandon.kt/c-clr-il-jit-compilation-code-access-security-explained-269124121f5
--- 
When you write C# code, it goes through several steps before it can be executed by the Common Language Runtime (CLR). Here's a simplified overview of the compilation and execution process:

1. **Source Code**: You start by writing your C# code in a text editor or an Integrated Development Environment (IDE) like Visual Studio.

2. **Compilation**: When you build your C# project, the C# compiler (csc.exe) translates your source code into Intermediate Language (IL), also known as Microsoft Intermediate Language (MSIL) or Common Intermediate Language (CIL). This IL is platform-independent and resembles an assembly language for a virtual machine.

3. **Assembly Generation**: The IL code is packaged into one or more assemblies. An assembly is a unit of deployment and can be a DLL (Dynamic Link Library) or an EXE (Executable) file.

4. **Loading**: When you run your .NET application, the CLR loads the assembly containing your C# code. The CLR locates the necessary assemblies and loads them into memory.

5. **Just-In-Time (JIT) Compilation**: The CLR's Just-In-Time (JIT) compiler takes the IL code and translates it into native machine code that the underlying hardware can execute. This compilation happens on-demand, typically when a method is first called. The resulting native code is cached for subsequent executions, improving performance.

6. **Execution**: The native code generated by the JIT compiler is executed by the CPU. The CLR provides runtime services such as memory management, security, and exception handling while your code is running.

7. **Garbage Collection**: The CLR's garbage collector manages memory allocation and deallocation for objects created by your C# code. It automatically identifies and frees memory that is no longer in use, helping to prevent memory leaks and ensure efficient memory usage.

8. **Exception Handling**: The CLR provides built-in support for structured exception handling, allowing your C# code to handle errors and exceptions gracefully.

Throughout this process, the CLR provides a runtime environment that abstracts away the complexities of hardware and operating system differences, allowing your C# code to run on any platform supported by the .NET Framework. This compilation and execution model enable the portability, scalability, and interoperability of .NET applications across different environments.